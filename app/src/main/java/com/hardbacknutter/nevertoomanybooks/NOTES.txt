Supported Android versions:

* v2.1.0 requires Android 8.0 (API 26)

https://gs.statcounter.com/os-version-market-share/android/mobile-tablet/worldwide

https://apilevels.com/

2024-04-27:
14.0     16.3
13.0     42.5
12.0     59.5
11.0     75.7
10.0     84.5
9.0      90.2
8.1      92.1
8.0      95.1
====================================================================================================
Draft notes for next version:

### 6.2.0

NEW:
- Android 15 support
- Douban website support for Chinese books
- option to replace the authors on all entries in a TOC with the books main author
- consolidated language together with other UI options in a single settings screen
- preference dialogs custom implementation with Material styling + BottomSheet support.
- updated all icons for Material style consistency
- improved partial-date handling/formats for a number of websites
- StripInfo.be parsing updated

FIXES:
- text-based filters no longer jump on manual edits
- always show loanee on book-details when globally enabled
- language selection no longer cached which sometime led to wrong preference summary text
- various fixes to toolbar menus on dialogs and BottomSheets

REMOVED:

====================================================================================================
Android 15 insets / edge-to-edge
https://developer.android.com/develop/ui/views/layout/insets

Testing on the emulator shows that out of the box, we do NOT draw behind
the status-bar nor behind the bottom navigation-bar.
good: no changes needed, all UI elements display fine.
bad: no edge-to-edge.... but does this really matter ?

----------------------------------------------------------------------------------------------------
https://developer.android.com/develop/ui/views/layout/edge-to-edge#cutout-insets

Display cutouts (camera etc): we don't take any of those into account.
So they CAN overlap our content.

Added the below listener + vb.content.list view: android:clipToPadding="false"
Neither seems to make any difference. The camera cutout on the Pixel 8a emulator
is still overlapping the list.
//        ViewCompat.setOnApplyWindowInsetsListener(vb.content.list, (v, windowInsets) -> {
//            final Insets insets = windowInsets.getInsets(
//                    WindowInsetsCompat.Type.systemBars()
//                    | WindowInsetsCompat.Type.displayCutout()
//            );
//            v.setPadding(insets.left, insets.top, insets.right, insets.bottom);
//            return WindowInsetsCompat.CONSUMED;
//        });

----------------------------------------------------------------------------------------------------
https://developer.android.com/develop/ui/views/layout/insets/rounded-corners
Rounded corner displays: not taken into account.
Based on emulator tests... it's not perfect, but should not be an issue
as long as we're not drawing behind the system-bars anyhow we more or less avoid the rounded
device corners automatically.

----------------------------------------------------------------------------------------------------
// https://developer.android.com/develop/ui/views/layout/edge-to-edge#system-gesture-insets
According to the docs, we should apply this to the ViewPager2 usage and BottomSheets.

Tried it out for the ViewPager2 usage:
- book details + book edit
  Effect is not really visible, but touching area is indeed as per gesture docs.
  Not sure this is really useful on these screens.
  Not enabling for now.
- search-admin (settings)
  Effect is very visible making the site lists narrow.
  Not enabling for now.

BottomSheets:
  I don't see the need... BottomSheet is the "focus". If the user decides they
  want to go 'back' while a BottomSheet is displayed, then can first close the BottomSheet.


====================================================================================================
Amazon... or "why are these sites not supported?"
 * Goodreads is owned by Amazon and has shut their API down.
 * LibraryThing is 40% owned by AbeBooks which is owned by Amazon and the API is shut down.
 * Amazon and the above are now using Captcha to blocks app access.

====================================================================================================

ENHANCE: ISSN (serials) lookups?

ENHANCE: https://www.belgischebibliografie.be

ENHANCE: add book by search: allow publisher + present list of finds instead of using first found.
==> SearchCoordinator.search when isbn not provided, will run a search until it finds an isbn,
    and then redo the search WITH the isbn
==> so this is why we only ever get ONE result back.

Look into using
https://developer.android.com/guide/navigation/navigation-custom-back
https://developer.android.com/training/appbar/up-action

FIXME: check all cover logic where source and destination is allowed to be the same
 We should ALWAYS use a temporary file to write to, and only on success rename it to
 the actual destination file to prevent loss of original on failure.

FIXME: the dialog-fragment launcher api is increasingly adding overhead.
 It needs to be replaced by ViewModel sharing on Activity level.

TODO: bring some unity to our use of child-fragments (e.g. ReadStatus)
 and helper/handlers (e.g. CoverHandler) and similar constructs

ENHANCE: add rotating functions to the cropper activity. This would allow
 multi-rotate-undo by simply quiting the cropper.

ENHANCE Pseudonyms on ISFDB:
 While reading the book page, we could follow the author url,
 and from there check the header for "Used As Alternate Name By"
 Problem: if it's the real-author anyhow, then loading
 that url can become very slow if the author has many books.
 Alternative: lookup Author names individually.

====================================================================================================
Known issues:

The node-management, i.e. storing the tree-state of the nodes in the booklist
 is by design not foolproof. The nodes 'expanded' flag WILL get out of sync with
 the display from time to time. There are no plans to fix this for now as the foolproof solution
 would take far to much disk space.

Prices: when importing books with a price field containing a value which cannot be parsed,
 the price field is silently dropped. Details see BookDaoHelper#filterValues.
 Some code can already deal with string-values in the Book bundle, but it is very likely
 that IF such a string would end up in the database somehow, we'll
 get a crash when trying to display it using a MoneyFormatter (FieldFormatter)
 FIXME: Solution would be to allow Money to have string (instead/aside-of double) values.

Booklist style sorting by date-read or date-added etc...:
 samsung A520 with A8.0, month name not shown; we get the month number instead.
 Does not happen on other devices/emulators. Won't pursue/fix.